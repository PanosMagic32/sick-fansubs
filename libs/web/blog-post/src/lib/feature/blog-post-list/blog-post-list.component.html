@if (blogPosts.isLoading()) {
  <mat-progress-bar mode="indeterminate" />
}

<div class="create-post-btn">
  @if (isAdmin()) {
    <button mat-fab extended color="primary" (click)="onCreatePost()">
      <mat-icon>add</mat-icon>
      Προσθήκη νέου post
    </button>
  }
</div>

@if (blogPosts.error()) {
  <sf-no-content />
}

@if (blogPosts.value(); as blogPosts) {
  <div class="posts-container">
    @for (post of blogPosts?.posts; track post._id) {
      <sf-blog-post-item
        [class.first]="$index === 0 && currentPage() === 1"
        [blogPost]="post"
        [index]="$index"
        [isAdmin]="isAdmin()"
        [currentPage]="currentPage()"
      />
    }
  </div>

  <div class="paginator-container">
    <mat-paginator
      [pageIndex]="currentPage() - 1"
      [length]="blogPosts.count"
      [pageSize]="pageSize()"
      [pageSizeOptions]="pageSizeOptions()"
      (page)="onPageChange($event)"
      aria-label="Select page of posts"
    />
  </div>
}
