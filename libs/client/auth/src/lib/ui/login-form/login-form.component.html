<div class="login-container">
  <mat-card>
    <div class="login-form">
      <h1 class="login-title">Σύνδεση</h1>

      <form [formGroup]="loginForm" (submit)="onLogin()">
        <mat-form-field class="login-input username-input" appearance="fill">
          <mat-label>Όνομα χρήστη</mat-label>
          <input matInput type="text" placeholder="Όνομα χρήστη" formControlName="username" required />

          @if (formControl.username.touched && formControl.username.hasError('required')) {
            <mat-error> Το όνομα χρήστη είναι υποχρεωτικό. </mat-error>
          }
        </mat-form-field>

        <mat-form-field class="login-input password-input" appearance="fill">
          <mat-label>Κωδικός</mat-label>
          <input matInput type="password" placeholder="Κωδικός" formControlName="password" minlength="6" required />

          @if (
            formControl.password.touched &&
            (formControl.password.hasError('required') || formControl.password.hasError('minlength'))
          ) {
            <mat-error> Ο κωδικός είναι υποχρεωτικός και πρέπει να είναι τουλάχιστον 6 χαρακτήρες. </mat-error>
          }
        </mat-form-field>

        <button mat-raised-button class="login-btn" color="primary" type="submit" [disabled]="!loginForm.valid">
          Σύνδεση
        </button>
      </form>
    </div>

    @if (isLoading) {
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    }
  </mat-card>
</div>
